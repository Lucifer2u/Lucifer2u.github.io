

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/bat.png">
  <link rel="icon" href="/img/bat.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Lucifer">
  <meta name="keywords" content="">
  
  <title>Java开发所需的Linux环境配置 - Lucifer&#39;s Blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.6.0/styles/monokai.min.css" />
    
  

  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"lucifer2u.github.io","root":"/","version":"1.8.10","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":false,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"Q8utolFFXQsi71pQY6bCltkI-gzGzoHsz","app_key":"x4RAlPOpmFX9HdGyI6MLoCGn","server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 80vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Lucifer</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                主页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于我
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/Flower.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Java开发所需的Linux环境配置">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-07-15 21:53" pubdate>
        2021年7月15日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      5.4k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      69
       分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
            <div class="scroll-down-bar">
              <i class="iconfont icon-arrowdown"></i>
            </div>
          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Java开发所需的Linux环境配置</h1>
            
            <div class="markdown-body">
              <h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><blockquote>
<p>本文主要讲解在Linux环境下的Java开发环境搭建，包含各种常用软件的安装步骤以及基础的Linux知识</p>
</blockquote>
<h1 id="安装Centos"><a href="#安装Centos" class="headerlink" title="安装Centos"></a>安装Centos</h1><p>因为开发中只需用得到命令行操作，所以只需要安装Minimal版本</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506161400598.png" srcset="/img/loading.gif" lazyload alt="image-20210506161400598"></p>
<p>进行配置</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506162907224.png" srcset="/img/loading.gif" lazyload alt="image-20210506162907224"></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506163217156.png" srcset="/img/loading.gif" lazyload alt="image-20210506163217156"></p>
<p>安装完成后重启即可</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506164209130.png" srcset="/img/loading.gif" lazyload alt="image-20210506164209130"></p>
<p>重启后来到登录界面，输入账号密码即可登录</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506164333914.png" srcset="/img/loading.gif" lazyload alt="image-20210506164333914"></p>
<h1 id="Linux基础知识"><a href="#Linux基础知识" class="headerlink" title="Linux基础知识"></a>Linux基础知识</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506164621687.png" srcset="/img/loading.gif" lazyload alt="image-20210506164621687"></p>
<ul>
<li>bin  (binaries)存放二进制可执行文件                                                                                                    [重点]</li>
<li>sbin  (super user binaries)存放二进制可执行文件，只有root才能访问</li>
<li>etc (etcetera)存放系统配置文件                                                                                                                [重点]</li>
<li>usr  (unix shared resources)用于存放共享的系统资源                                                                  [重点]</li>
<li>home 存放用户文件的根目录                                                                                                                    [重点]</li>
<li>root  超级用户目录                                                                                                                                         [重点]</li>
<li>dev (devices)用于存放设备文件</li>
<li>lib  (library)存放跟文件系统中的程序运行所需要的共享库及内核模块</li>
<li>mnt  (mount)系统管理员安装临时文件系统的安装点</li>
<li>boot 存放用于系统引导时使用的各种文件</li>
<li>tmp  (temporary)用于存放各种临时文件                                                                                             [重点]</li>
<li>var  (variable)用于存放运行时需要改变数据的文件</li>
</ul>
<h2 id="常用指令"><a href="#常用指令" class="headerlink" title="常用指令"></a>常用指令</h2><blockquote>
<p>注意:在linux中命令严格区分大小写</p>
</blockquote>
<h3 id="显示文件和目录列表-list"><a href="#显示文件和目录列表-list" class="headerlink" title="显示文件和目录列表    (list)"></a>显示文件和目录列表    (list)</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">ls 常用参数:</span>  
	-l (long)	 长格式显示文件和目录信息
	-a (all)	 显示所有文件和目录(包含隐藏文件和目录)
	-R         递归显示指定目录下的文件清单，即会显示指定目录分支内各子目录中的文件清单。</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/3.ls%20-l%E9%95%BF%E6%A0%BC%E5%BC%8F%E8%AF%B4%E6%98%8E.png" srcset="/img/loading.gif" lazyload alt="3.ls -l长格式说明"></p>
<h3 id="操作文件命令-重点"><a href="#操作文件命令-重点" class="headerlink" title="操作文件命令[重点]"></a>操作文件命令[重点]</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 0.cd 用来切换目录</span>
<span class="hljs-meta">#</span><span class="bash"> 1.pwd 显示当前工作目录（<span class="hljs-built_in">print</span> working directory）</span>
<span class="hljs-meta">#</span><span class="bash"> 2.touch 创建空文件</span>		 
<span class="hljs-meta">#</span><span class="bash"> 3.mkdir 创建目录（make directoriy）</span>
			-p 父目录不存在情况下先生成父目录 （parents）            
<span class="hljs-meta">#</span><span class="bash"> 4.cp 复制文件或目录（copy）</span>
      cp  文件名    目录   复制文件到指定目录中
      cp  -r 目录名    目录   复制指定目录到指定目录中
			-r 递归处理，将指定目录下的文件与子目录一并拷贝（recursive）     
<span class="hljs-meta">#</span><span class="bash"> 5.mv 移动文件或目录、文件或目录改名（move）</span>
			mv 文件名    新文件名      文件改名
			mv 文件名    目录名     	文件移动
			mv 目录名    不存在目录名  目录改名   
      mv 目录名	  已存在目录名  目录移动
<span class="hljs-meta">#</span><span class="bash"> 6.rm 删除文件（remove）</span>
			-r 同时删除该目录下的所有文件（recursive）
			-f 强制删除文件或目录（force）
<span class="hljs-meta">#</span><span class="bash"> 7.rmdir 删除空目录（remove directoriy）</span>
<span class="hljs-meta">#</span><span class="bash"> 8.cat 显示文本文件内容 （catenate） 用来展示少量内容</span>
<span class="hljs-meta">#</span><span class="bash"> 9.more、less 分页显示文本文件内容   退出用q退出</span>
<span class="hljs-meta">#</span><span class="bash"> 10.head、tail查看文本中开头或结尾部分的内容</span>
		head  -n  5  a.log 查看a.log文件的前5行
<span class="hljs-meta">#</span><span class="bash"> 11.tail  -f  b.log 循环读取（fellow）</span>
<span class="hljs-meta">#</span><span class="bash"> 12.echo 输出命令</span>
			echo   I love baby								说明:用来向屏幕输出一句话
			echo I Love baby  &gt;&gt;  aa.txt			说明:将这段内容输入到文件中
<span class="hljs-meta">#</span><span class="bash"> 13.查看文件</span>
			find -name xxx	
			whereis xx		显示xx的位置
			which xx			显示xx的完整路径</code></pre></div>

<h3 id="查看相关命令"><a href="#查看相关命令" class="headerlink" title="查看相关命令"></a>查看相关命令</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 1.ip addr 查看IP地址</span>
		ip a  简化写法
<span class="hljs-meta">#</span><span class="bash"> 2.ping 测试网络连通性</span>
		ping 192.168.0.1	
<span class="hljs-meta">#</span><span class="bash"> 3.查看Linux中网络系统状态信息</span>
		netstat
<span class="hljs-meta">#</span><span class="bash"> 4.显示内存的使用情况</span>
		free
<span class="hljs-meta">#</span><span class="bash"> 5.显示磁盘的相关信息</span>
		df
<span class="hljs-meta">#</span><span class="bash"> 6.</span></code></pre></div>

<h3 id="tar命令"><a href="#tar命令" class="headerlink" title="tar命令"></a>tar命令</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"> 		-c 建立一个压缩文件的参数指令（create）
		-x 解开一个压缩文件的参数指令（extract）
		-z 是否需要用 gzip 压缩  
		-v 压缩的过程中显示文件（verbose）
		-f 使用档名，在 f 之后要立即接档名（file）

`通常组合使用:`
			tar -cvf aaa.tar file1.txt file2.txt 					将file1和2打包成aaa.tar
			
			tar -zcvf aaa.tar.gz file1.txt file2.txt 			将file1和2打包成aaa.tar并压缩
			tar -zxvf aaa.tar.gz file1.txt file2.txt 			将aaa.tar.gz解压</code></pre></div>

<h3 id="systemctl-服务命令"><a href="#systemctl-服务命令" class="headerlink" title="systemctl 服务命令"></a>systemctl 服务命令</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"> systemctl status|start|stop|restart 服务名  mysqld firewalld(防火墙) network(网络)
systemctl status 服务名          说明:查看某个服务的运行状态
systemctl start 服务名 					说明:启动某个服务
systemctl restart 服务名 				说明:重启某个服务
systemctl stop 服务名 						说明:停止某个服务</code></pre></div>

<h3 id="进程相关命令"><a href="#进程相关命令" class="headerlink" title="进程相关命令"></a>进程相关命令</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 1.ps 询在当前控制台上运行的进程</span>
		ps  -aux   说明:查询系统中所有运行的进程，包括后台进程，其中参数a是所有进程，参数x包括不占用控制台的进程，参数u显示用户。
		ps  -ef		 说明:查询系统中所有运行的进程，包括后台进程，而且可以显示出每个进程的父进程号。

    ps -aux|grep 	进程/服务名/关键字/tomcat  [重点]
    
<span class="hljs-meta">#</span><span class="bash"> 2.top	命令  动态显示系统进程</span>

<span class="hljs-meta">#</span><span class="bash"> 3.kill 杀死进程</span>
		kill  3029 说明：上述命令中3029是进程号；一般在执行kill命令之前，先用ps或pstree来查询一下将要被杀掉的进程的进程号。 
		kill  -9  3029 说明:强制终止3029号进程的运行，其中参数-9代表强制的意思,实际上kill命令是向该进程发送信号，该进程接到信号后决定是否停止运行，有些守护进程必须要收到参数9才终止运行。</code></pre></div>

<h3 id="vi命令"><a href="#vi命令" class="headerlink" title="vi命令"></a>vi命令</h3><p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506185857940.png" srcset="/img/loading.gif" lazyload alt="image-20210506185857940"></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 常用命令:</span>
		i						在光标前插入
 		I						在光标当前行开始插入
 		a						在光标后插入
 		A						在光标当前行末尾插入
 		o						在光标当前行的下一行插入新行
 		O						在光标当前行的上一行插入新行
 		----------------重点---------------------------
 		:set nu			显示行号
 		:set nonu		取消行号
 		:set paste  粘贴文本
 		dd 					快速删除当前行
 		gg					到文本的第一行
 		G						到文本的最后一行
 		:n					到文本的第n行
 		------------------重点-------------------------
 		u						undo,取消上一步操作
 		Ctrl + r		redo,返回到undo之前
 		
 		-------------------重点------------------------
 		Shift+ zz		保存退出，与“:wq”作用相同
		:q					退出不保存
		:q!					强制退出不保存
		:wq					保存退出
		:wq!				强制保存退出</code></pre></div>

<h3 id="软件相关命令"><a href="#软件相关命令" class="headerlink" title="软件相关命令"></a>软件相关命令</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> rpm 命令</span>  
	常用参数:
      i：安装应用程序（install）
      e：卸载应用程序（erase）
      vh：显示安装进度；（verbose   hash） 
      U：升级软件包；（update） 
      qa: 显示所有已安装软件包（query all）
	例子：rmp  -ivh  gcc-c++-4.4.7-3.el6.x86_64.rpm

安装 
		rpm -ivh  xxxx.rpm
    rpm -evh  xxxx.rpm
    rpm -Uvh  xxx.rpm
    rpm -qa 
    
<span class="hljs-meta">#</span><span class="bash"> yum 命令</span>
`使用YUM命令必须连接外部网络`
    例子：
    yum  install  gcc-c++
    yum  remove   gcc-c++
    yum  update   gcc-c++
    
    yum install|remove|update  依赖名称</code></pre></div>

<h3 id="用户和组相关命令"><a href="#用户和组相关命令" class="headerlink" title="用户和组相关命令"></a>用户和组相关命令</h3><div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 1.查看当前用户：whoami</span>
<span class="hljs-meta">#</span><span class="bash"> 2.查看登录用户：who</span>
	-m或am I	只显示运行who命令的用户名、登录终端和登录时间
	-q或--count	只显示用户的登录账号和登录用户的数量
<span class="hljs-meta">#</span><span class="bash"> 3.退出用户:		<span class="hljs-built_in">exit</span></span>

<span class="hljs-meta">#</span><span class="bash"> 4.添加、删除组账号：groupadd、groupdel</span>
<span class="hljs-meta">#</span><span class="bash"> 5.添加用户账号：useradd</span>
		-g	指定组名称  说明:如果创建用户的时候，不指定组名，那么系统会自动创建一个和用户名一样的组名。
<span class="hljs-meta">#</span><span class="bash"> 6.设置用户密码：passwd　[用户名]</span>
<span class="hljs-meta">#</span><span class="bash"> 7.su 切换用户</span>
		su  root</code></pre></div>

<h3 id="权限相关命令"><a href="#权限相关命令" class="headerlink" title="权限相关命令"></a>权限相关命令</h3><blockquote>
<p>Linux文件有三种典型的权限，<code>即r读权限、w写权限和x执行权限</code>。在长格式输出中在文件类型的后面有9列权限位，实际上这是针对不同用户而设定的。<code>r=4，w=2，x=1</code></p>
</blockquote>
<div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> chmod</span> 
  all = user + group + other 
  chmod  u+rwx,g+rwx,o+rwx   文件名
	字母法：chmod u/g/o/a +/-/= rwx 文件
	
    [ u/g/o/a ]	含义
    	u	user 					表示该文件的所有者
    	g	group 				表示与该文件的所有者属于同一组( group )者，即用户组
    	o	other 				表示其他以外的人
    	a	all 					表示这三者皆是

    [ +-= ]	含义
    	+								增加权限
    	-								撤销权限
    	=								设定权限

    rwx	含义
    	r				read 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。
    	w				write 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。
    	x				excute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。
   
   数字法:   4读 2写  1执行
      chmod 777 文件名</code></pre></div>

<h1 id="CRT配置"><a href="#CRT配置" class="headerlink" title="CRT配置"></a>CRT配置</h1><p><strong>设置linux获取ip地址 (编辑网络配置文件)</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">vi /etc/sysconfig/network-scripts/ifcfg-ens33</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506194238775.png" srcset="/img/loading.gif" lazyload alt="image-20210506194238775"></p>
<p><strong>修改ens33配置文件:</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">BOOTPROTO=dhcp
ONBOOT=yes</code></pre></div>

<p><strong>重启启动网路服务加载修改配置生效</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">systemctl restart network</code></pre></div>

<p><strong>查看ip地址</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">ip addr</code></pre></div>

<p><strong>此时ip已经获取</strong></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506194647423-0301639.png" srcset="/img/loading.gif" lazyload alt="image-20210506194647423"></p>
<p><strong>测试外部网络连通(保证宿主机可以上网前提)</strong></p>
<div class="hljs code-wrapper"><pre><code>    ping www.baidu.com
</code></pre></div>
<p><strong>使用CRT工具连接即可</strong></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506202557475.png" srcset="/img/loading.gif" lazyload alt="image-20210506202557475"></p>
<h1 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h1><p>为了方便使用，在开始配置之前，利用命令<code>yum install vim</code>安装vim</p>
<p><strong>同样重要的功能，快照</strong></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506210740915.png" srcset="/img/loading.gif" lazyload alt="image-20210506210740915"></p>
<p>能记录当前虚拟机的状态，以便恢复到记录的时刻防止意外发生</p>
<p>然后利用FTP工具上传JDK安装包到Linux中</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506203930036.png" srcset="/img/loading.gif" lazyload alt="image-20210506203930036"></p>
<p>安装到<code>usr</code>目录下</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506204006667.png" srcset="/img/loading.gif" lazyload alt="image-20210506204006667"></p>
<p>在解压后到jdk的<code>bin</code>目录下查看java版本</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506204318398.png" srcset="/img/loading.gif" lazyload alt="image-20210506204318398"></p>
<p>配置环境变量</p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">vim /etc/profile
<span class="hljs-meta">#</span><span class="bash">在文件末尾加入如下配置</span>
export JAVA_HOME=/usr/jdk1.8.0_202
export PATH=$PATH:$JAVA_HOME/bin
<span class="hljs-meta">#</span><span class="bash"> 加载配置生效</span>
source /etc/profile    加载配置生效
reboot                 重启系统
<span class="hljs-meta">#</span><span class="bash">注意: 以上两个选项选择任意一个即可<span class="hljs-built_in">source</span>可以不用重启立即生效,某些情况下<span class="hljs-built_in">source</span>无法生效时,可以使用重启试试</span></code></pre></div>

<p>此时配置成功</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506205050362.png" srcset="/img/loading.gif" lazyload alt="image-20210506205050362"></p>
<p>也可以使用<code>rpm</code>命令安装</p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">rpm -ivh jdk-8u202-linux-x64.rpm 
<span class="hljs-meta">#</span><span class="bash">然后搜索rpm的安装位置</span>
whereis java
<span class="hljs-meta">#</span><span class="bash">或者</span>
find / -name &quot;java&quot;
<span class="hljs-meta">#</span><span class="bash">默认在/usr/java/下</span></code></pre></div>

<p>然后同理于上面tar安装的步骤，配置环境后即可</p>
<h1 id="安装Tomcat"><a href="#安装Tomcat" class="headerlink" title="安装Tomcat"></a>安装Tomcat</h1><p><strong>准备工作</strong></p>
<p>同理上传到<code>usr</code>目录下并解压</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506211109844.png" srcset="/img/loading.gif" lazyload alt="image-20210506211109844"></p>
<p><strong>启动tomcat</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">./bin/startup.sh</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506211749770.png" srcset="/img/loading.gif" lazyload alt="image-20210506211749770"></p>
<p><strong>查看Tomcat是否启动</strong></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506212029242.png" srcset="/img/loading.gif" lazyload alt="image-20210506212029242"></p>
<p>使用<code>ps</code>或者<code>jps</code>两个命令都可以查看</p>
<p><strong>关闭网络防火墙</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> systemctl stop firewalld	   关闭网络防火墙</span>
<span class="hljs-meta">$</span><span class="bash"> systemctl <span class="hljs-built_in">disable</span> firewalld  关闭开机自启动(永久关闭)</span></code></pre></div>

<p><strong>访问tomcat</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">http://172.16.211.4:8080</code></pre></div>

<p>在<code>/conf/server.xml</code>下可以修改端口号</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506212608053.png" srcset="/img/loading.gif" lazyload alt="image-20210506212608053"></p>
<p><strong>显示tomcat实时控制台信息（）</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">进入tomcat的logs目录中使用
tail -f catalina.out 命令实时查看控制台信息</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210506212757867.png" srcset="/img/loading.gif" lazyload alt="image-20210506212757867"></p>
<p><strong>关闭tomcat</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">在tomcat的bin目录下面使用 ./shutdown.sh</code></pre></div>

<p>此刻Tomcat已经在Linux部署完毕，来测试一下在Linux部署SpringBoot</p>
<p>需要注意以jsp作为模板时候的问题，但不推荐以jps作为模板使用</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/11.%E5%9C%A8linux%E7%B3%BB%E7%BB%9F%E4%B8%ADjar%E5%8C%85%E6%96%B9%E5%BC%8F%E9%83%A8%E7%BD%B2springboot.png" srcset="/img/loading.gif" lazyload alt="11.在linux系统中jar包方式部署springboot"></p>
<h1 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h1><p><strong>准备工作</strong></p>
<ul>
<li>卸载mariadb，否则安装mysql会出现冲突</li>
<li>执行命令<code>rpm -qa | grep mariadb</code></li>
<li>列出所有被安装的mariadb rpm 包；</li>
<li>执行命令<code>rpm -e --nodeps mariadb-libs-5.5.xx-x.el7.x86_64</code>卸载</li>
</ul>
<p><strong>开始安装</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 1.添加官方的yum源创建并编辑mysql-community.repo文件</span>
<span class="hljs-code">		vi /etc/yum.repos.d/mysql-community.repo</span>
<span class="hljs-code"># 2.粘贴以下内容到源文件中</span>
<span class="hljs-code">		[mysql56-community]</span>
<span class="hljs-code">    name=MySQL 5.6 Community Server</span>
<span class="hljs-code">    baseurl=http://repo.mysql.com/yum/mysql-5.6 -community/el/7/$basearch/</span>
<span class="hljs-code">    enabled=1</span>
<span class="hljs-code">    gpgcheck=0</span>
<span class="hljs-code">    gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</span>
<span class="hljs-code">    </span>
<span class="hljs-code">   #注意:如果需要安装mysql5.7只需要将baseurl修改即可 </span>
<span class="hljs-code">    	baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 3.安装mysql</span>
<span class="hljs-code">	sudo yum install -y mysql-community-server</span></code></pre></div>

<p><strong>启动与登录</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 1.启动mysql数据库</span>
systemctl start mysqld

<span class="hljs-section"># 2.修改mysql数据库密码</span>
mysqladmin -u root -p password 回车 输入原始密码 在输入新的密码

<span class="hljs-section">#注意:5.7之前版本安装完成之后没有密码,mysql5.7之后的版本的初始密码是随机生成的，放在了 /var/log/mysqld.log</span>
<span class="hljs-section">#使用命令 grep ‘temporary password’ /var/log/mysqld.log 读出来即可</span>

<span class="hljs-section"># 5.7开始mysql不支持简单密码，使用Root!123</span>

<span class="hljs-section"># 3.登录mysql</span>
mysql -u root -p</code></pre></div>

<p><strong>目录</strong></p>
<p>数据库文件的存放路径在<code>/var/lib/mysql</code></p>
<p>5.7版本的配置文件在<code>/usr/etc/my.cnf</code></p>
<p>相关命令目录在<code>/usr/bin</code></p>
<p><strong>配置文件</strong></p>
<p>在<code>my.cnf</code>下添加</p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 修改字符集</span>
[mysqld]
character-set-server=utf8 
[client]
default-character-set=utf8 
[mysql]
default-character-set=utf8</code></pre></div>

<p>重启mysql，可以发现</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210508172907727.png" srcset="/img/loading.gif" lazyload alt="image-20210508172907727"></p>
<p><strong>开启远程访问</strong></p>
<p>开启授权，让所有机器都可访问，在配置主从机的时候同样适用</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210507160110862.png" srcset="/img/loading.gif" lazyload alt="image-20210507160110862"></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210507160339587.png" srcset="/img/loading.gif" lazyload alt="image-20210507160339587"></p>
<p><strong>已经连接成功</strong></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210507160436771.png" srcset="/img/loading.gif" lazyload alt="image-20210507160436771"></p>
<h1 id="安装MyCat"><a href="#安装MyCat" class="headerlink" title="安装MyCat"></a>安装MyCat</h1><blockquote>
<p>实现读写分离的中间件，也是MySQL常用的软件</p>
</blockquote>
<p><strong>准备工作</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 1.下载mycat</span>
<span class="hljs-code">	http://dl.mycat.io/1.6-RELEASE/Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 2.解压mycat</span>
<span class="hljs-code">	tar -zxvf Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gz</span></code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20191014225929256.png" srcset="/img/loading.gif" lazyload alt="image-20191014225929256"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 3.查看解压之后目录]</span>
<span class="hljs-code">	[root@localhost mycat]# ls</span>
<span class="hljs-code">	总用量 12</span>
<span class="hljs-code">	drwxr-xr-x. 2 root root  190 10月 14 22:58 bin</span>
<span class="hljs-code">	drwxrwxrwx. 2 root root    6 3月   1 2016 catlet</span>
<span class="hljs-code">	drwxrwxrwx. 4 root root 4096 10月 14 22:58 conf</span>
<span class="hljs-code">	drwxr-xr-x. 2 root root 4096 10月 14 22:58 lib</span>
<span class="hljs-code">	drwxrwxrwx. 2 root root    6 10月 28 2016 logs</span>
<span class="hljs-code">	-rwxrwxrwx. 1 root root  217 10月 28 2016 version.txt</span></code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20191014230002014.png" srcset="/img/loading.gif" lazyload alt="image-20191014230002014"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 4.移动到/usr目录</span>
<span class="hljs-code">	mv mycat/ /usr/</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 5.配置mycat中conf下的配置schema.xml</span>
<span class="hljs-code">		先删除原有的内容，加入以下配置</span></code></pre></div>

<div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--定义MyCat的逻辑库  dataNode表示映射的真实节点--&gt;</span>   
    <span class="hljs-tag">&lt;<span class="hljs-name">schema</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;test_schema&quot;</span> <span class="hljs-attr">checkSQLschema</span>=<span class="hljs-string">&quot;false&quot;</span> <span class="hljs-attr">sqlMaxLimit</span>=<span class="hljs-string">&quot;100&quot;</span> <span class="hljs-attr">dataNode</span>=<span class="hljs-string">&quot;testNode&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">schema</span>&gt;</span> 
<span class="hljs-comment">&lt;!--定义MyCat的数据节点 name与dataNode一致，dataHost映射真实主机，database映射真实的库--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dataNode</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;testNode&quot;</span> <span class="hljs-attr">dataHost</span>=<span class="hljs-string">&quot;dtHost&quot;</span> <span class="hljs-attr">database</span>=<span class="hljs-string">&quot;test&quot;</span> /&gt;</span>
<span class="hljs-comment">&lt;!--定义数据主机 name和dataHost一致   --&gt;</span>
   							<span class="hljs-tag">&lt;<span class="hljs-name">dataHost</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dtHost&quot;</span> <span class="hljs-attr">maxCon</span>=<span class="hljs-string">&quot;1000&quot;</span> <span class="hljs-attr">minCon</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">balance</span>=<span class="hljs-string">&quot;1&quot;</span>     		<span class="hljs-attr">writeType</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">dbType</span>=<span class="hljs-string">&quot;mysql&quot;</span> <span class="hljs-attr">dbDriver</span>=<span class="hljs-string">&quot;native&quot;</span> <span class="hljs-attr">switchType</span>=<span class="hljs-string">&quot;-1&quot;</span> 			    <span class="hljs-attr">slaveThreshold</span>=<span class="hljs-string">&quot;100&quot;</span>&gt;</span>  
<span class="hljs-comment">&lt;!--心跳配置   --&gt;</span>  
  <span class="hljs-tag">&lt;<span class="hljs-name">heartbeat</span>&gt;</span>select user()<span class="hljs-tag">&lt;/<span class="hljs-name">heartbeat</span>&gt;</span>
                <span class="hljs-comment">&lt;!--写节点--&gt;</span>
 		<span class="hljs-tag">&lt;<span class="hljs-name">writeHost</span> <span class="hljs-attr">host</span>=<span class="hljs-string">&quot;hostM1&quot;</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;192.168.28.128:3306&quot;</span> <span class="hljs-attr">user</span>=<span class="hljs-string">&quot;root&quot;</span><span class="hljs-attr">password</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span>
                 <span class="hljs-comment">&lt;!--从节点--&gt;</span>
 	<span class="hljs-tag">&lt;<span class="hljs-name">readHost</span> <span class="hljs-attr">host</span>=<span class="hljs-string">&quot;hostS1&quot;</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;192.168.28.129:3306&quot;</span> <span class="hljs-attr">user</span>=<span class="hljs-string">&quot;root&quot;</span> <span class="hljs-attr">password</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span>
  	<span class="hljs-tag">&lt;/<span class="hljs-name">writeHost</span>&gt;</span>
  							<span class="hljs-tag">&lt;/<span class="hljs-name">dataHost</span>&gt;</span></code></pre></div>

<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 6.配置登陆mycat的权限server.xml</span></code></pre></div>

<div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- 这里配置的都是一些系统属性，可以自己查看mycat文档--&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultSqlParser&quot;</span>&gt;</span>druidparser<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
  <span class="hljs-comment">&lt;!--5.xx必须是utf-8，8.xx为utf8mb4   --&gt;</span>  
  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;charset&quot;</span>&gt;</span>utf8<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">system</span>&gt;</span>
<span class="hljs-comment">&lt;!--配置用户信息--&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">user</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
  <span class="hljs-comment">&lt;!--指定可以操作的逻辑库--&gt;</span> 
  <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;schemas&quot;</span>&gt;</span>test_schema<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">user</span>&gt;</span></code></pre></div>

<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 7.在bin目录下启动mycat</span>
<span class="hljs-code">	 ./mycat console</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 8.查看日志</span>
<span class="hljs-code">	tail -f ../logs/mycat.log</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 9.数据库连接配置,测试</span></code></pre></div>

<h1 id="安装Nginx"><a href="#安装Nginx" class="headerlink" title="安装Nginx"></a>安装Nginx</h1><div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 下载Nginx</span>
   wget http://nginx.org/download/nginx-1.17.0.tar.gz

<span class="hljs-section"># 然后解压下载的目录，进入解压目录中，在编译安装之前，需要安装两个依赖：</span>
<span class="hljs-code">	 yum -y install pcre-devel</span>
<span class="hljs-code">	 yum -y install openssl openssl-devel</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 然后开始编译安装：</span>
<span class="hljs-code">	./configure</span>
<span class="hljs-code">	make</span>
<span class="hljs-code">	make install</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 装好之后，默认安装位置在:</span>
<span class="hljs-code">	/usr/local/nginx/sbin/nginx</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 启动nginx,进入nginx安装目录的sbin目录中执行:</span>
<span class="hljs-code">	./nginx</span>
<span class="hljs-code">	ps -aux|grep nginx</span>
<span class="hljs-code">	</span>
<span class="hljs-code"># 浏览器访问,可以看到nginx欢迎页面:</span>
<span class="hljs-code">	http://172.16.211.4:80/</span>
<span class="hljs-code">		注意:关闭网络防火墙</span>
<span class="hljs-code">		</span>
<span class="hljs-code"># 关闭nginx,进入nginx安装目录的sbin目录中执行:</span>
<span class="hljs-code">	./nginx -s stop</span>
<span class="hljs-code"></span>
<span class="hljs-code"># 1nginx配置文件在nginx安装目录的conf目录中:</span>
<span class="hljs-code">	[root@localhost conf]# ls -l</span>
<span class="hljs-code">	总用量 60</span>
<span class="hljs-code">	-rw-r--r--. 1 root root 2656 10月 14 21:17 nginx.conf</span>
<span class="hljs-code">	.......</span>
<span class="hljs-code">	注意:nginx.conf为nginx的配置文件,可以在nginx.conf修改nginx默认配置</span></code></pre></div>

<h1 id="安装Redis"><a href="#安装Redis" class="headerlink" title="安装Redis"></a>安装Redis</h1><div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 0.准备环境</span>
<span class="hljs-bullet">-</span> vmware15.x+
<span class="hljs-bullet">-</span> centos7.x+

<span class="hljs-section"># 1.下载redis源码包</span>
<span class="hljs-bullet">-</span> https://redis.io/</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20200623121621195.png" srcset="/img/loading.gif" lazyload alt="image-20200623121621195"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 2.下载完整源码包</span>
<span class="hljs-bullet">-</span> redis-4.0.10.tar.gz</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20200623123918876.png" srcset="/img/loading.gif" lazyload alt="image-20200623123918876"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 3.将下载redis资料包上传到Linux中</span></code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210511115817995.png" srcset="/img/loading.gif" lazyload alt="image-20210511115817995"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 4.解压缩文件</span>
[root@localhost ~]# tar -zxvf redis-4.0.10.tar.gz
[root@localhost ~]# ll</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210511115856761.png" srcset="/img/loading.gif" lazyload alt="image-20210511115856761"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 5.安装gcc  </span>
<span class="hljs-bullet">-</span> yum install -y gcc

<span class="hljs-section"># 6.进入解压缩目录执行如下命令</span>
<span class="hljs-bullet">-</span> make MALLOC=libc

<span class="hljs-section"># 7.编译完成后执行如下命令</span>
<span class="hljs-bullet">-</span> make install PREFIX=/usr/redis

<span class="hljs-section"># 8.进入/usr/redis目录启动redis服务 </span>
<span class="hljs-bullet">-</span> ./redis-server</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210511120413476.png" srcset="/img/loading.gif" lazyload alt="image-20210511120413476"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 9.Redis服务端口默认是 6379</span>

<span class="hljs-section"># 10.进入bin目录执行客户端连接操作</span>
<span class="hljs-bullet">-</span>  ./redis-cli -h localhost -p 6379 
<span class="hljs-bullet">-</span>  因为是本机，所以 ./redis-cli就可以连接</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210511120701317.png" srcset="/img/loading.gif" lazyload alt="image-20210511120701317"></p>
<p>默认在安装redis后，安装目录没有任何配置文件，需要<strong>拷贝原码目录中的配置文件<code>redis.conf</code>到usr下的redis目录下</strong></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210511121238577.png" srcset="/img/loading.gif" lazyload alt="image-20210511121238577"></p>
<p>以加载配置文件的启动</p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-bullet">-</span> ./redis-server ../redis.conf</code></pre></div>

<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 11.开启远程连接</span>
<span class="hljs-bullet">-</span>  vim redis.conf</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210512102805521.png" srcset="/img/loading.gif" lazyload alt="image-20210512102805521"></p>
<p>重启后生效，连接成功</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210512103002519.png" srcset="/img/loading.gif" lazyload alt="image-20210512103002519"></p>
<h1 id="安装RabbitMQ"><a href="#安装RabbitMQ" class="headerlink" title="安装RabbitMQ"></a>安装RabbitMQ</h1><p><strong>准备工作</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown">yum -y update
<span class="hljs-section"># Erlang在默认的YUM存储库中不可用，因此您将需要安装EPEL存储库</span>
yum -y install epel-release
yum -y update
<span class="hljs-section"># 安装Erlang</span>
yum -y install erlang socat
<span class="hljs-section"># 查看安装后Erlang的版本</span>
erl -version</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210526115805077.png" srcset="/img/loading.gif" lazyload alt="image-20210526115805077"></p>
<p><strong>正式安装</strong></p>
<p>上传文件至linux</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210526120554574.png" srcset="/img/loading.gif" lazyload alt="image-20210526120554574"></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown">yum install rabbitmq-server-3.6.10-1.el7.noarch.rpm</code></pre></div>

<p><strong>使用命令</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 运行</span>
systemctl start rabbitmq-server
<span class="hljs-section"># 自启动</span>
systemctl enable rabbitmq-server
<span class="hljs-section"># 查看状态</span>
systemctl status rabbitmq-server</code></pre></div>

<p><strong>用户相关</strong></p>
<p>默认账号密码都是guest</p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 查看用户</span>
sudo rabbitmqctl list<span class="hljs-emphasis">_users</span>
<span class="hljs-emphasis"># 添加用户</span>
<span class="hljs-emphasis">rabbitmqctl add_</span>user username password
rabbitmqctl set<span class="hljs-emphasis">_user_</span>tags username administrator
<span class="hljs-section"># 赋予用户默认的全部操作权限</span>
rabbitmqctl set<span class="hljs-emphasis">_permissions -p / username “.*” “.*” “.*”</span></code></pre></div>

<p><strong>开启web控制台</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown"><span class="hljs-section"># 启动RabbitMQ Web管理控制台</span>
rabbitmq-plugins enable rabbitmq<span class="hljs-emphasis">_management</span>
<span class="hljs-emphasis"># 将RabbitMQ文件的所有权提供给RabbitMQ用户</span>
<span class="hljs-emphasis">chown -R rabbitmq:rabbitmq /var/lib/rabbitmq/</span>
<span class="hljs-emphasis"># url</span>
<span class="hljs-emphasis">http://Your_</span>Server<span class="hljs-emphasis">_IP:15672/</span></code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210526122044856.png" srcset="/img/loading.gif" lazyload alt="image-20210526122044856"></p>
<p><strong>开启远程访问</strong></p>
<p>默认情况下，RabbitMQ的默认的<code>guest</code>用户只允许本机访问， 如果想让<code>guest</code>用户能够远程访问的话，只需要将配置文件中的<code>loopback_users</code>列表置为空即可</p>
<div class="hljs code-wrapper"><pre><code class="hljs markdown">cd /etc/rabbitmq/
<span class="hljs-section"># 默认是没有配置文件的，需要自己创建</span>
vim rabbitmq.config
<span class="hljs-section"># 在文件中添加如下</span>
[&#123;rabbit, [&#123;loopback<span class="hljs-emphasis">_users, []&#125;]&#125;]</span>
<span class="hljs-emphasis"># 重启服务即可</span></code></pre></div>

<h1 id="安装FastDFS"><a href="#安装FastDFS" class="headerlink" title="安装FastDFS"></a>安装FastDFS</h1><p><strong>主要分为两部分</strong></p>
<ul>
<li><strong>Tracker 安装</strong></li>
<li><strong>Storage 安装</strong></li>
</ul>
<h2 id="Tracker-安装"><a href="#Tracker-安装" class="headerlink" title="Tracker 安装"></a>Tracker 安装</h2><p>由于 FastDFS 采用 C 语言开发，所以在安装之前，如果没有 gcc 环境，需要先安装，安装命令如下：</p>
<div class="hljs code-wrapper"><pre><code class="hljs shell">yum install gcc-c++</code></pre></div>

<p>再来看两个库，由于 <strong>FastDFS 依赖 libevent 库</strong>，安装命令如下：</p>
<div class="hljs code-wrapper"><pre><code class="hljs cmake">yum -y <span class="hljs-keyword">install</span> libevent</code></pre></div>

<p><strong>另一个库是 libfastcommon</strong>，这是 FastDFS 官方提供的，它包含了 FastDFS 运行所需要的一些基础库。</p>
<p>libfastcommon 下载地址：<a target="_blank" rel="noopener" href="https://github.com/happyfish100/libfastcommon/archive/V1.0.43.tar.gz">https://github.com/happyfish100/libfastcommon/archive/V1.0.43.tar.gz</a></p>
<p>将下载好的 libfastcommon 拷贝至 /usr/local/ 目录下，然后依次执行如下命令：</p>
<div class="hljs code-wrapper"><pre><code class="hljs vim"><span class="hljs-keyword">cd</span> /usr/local
tar -zxvf V1.<span class="hljs-number">0.43</span>.tar.gz
<span class="hljs-keyword">cd</span> libfastcommon-<span class="hljs-number">1.0</span>.<span class="hljs-number">43</span>/
./<span class="hljs-keyword">make</span>.<span class="hljs-keyword">sh</span>
./<span class="hljs-keyword">make</span>.<span class="hljs-keyword">sh</span> install</code></pre></div>

<p><strong>接下来下载 Tracker</strong>，注意，由于 Tracker 和 Storage 是相同的安装包，所以下载一次即可</p>
<p>安装文件可以从 FastDFS 的 GitHub 仓库上下载，下载地址：<a target="_blank" rel="noopener" href="https://github.com/happyfish100/fastdfs/archive/V6.06.tar.gz">https://github.com/happyfish100/fastdfs/archive/V6.06.tar.gz</a></p>
<p>下载成功后，将下载文件拷贝到 /usr/local 目录下，然后依次执行如下命令安装：</p>
<div class="hljs code-wrapper"><pre><code class="hljs vim"><span class="hljs-keyword">cd</span> /usr/local
tar -zxvf V6.<span class="hljs-number">06</span>.tar.gz
<span class="hljs-keyword">cd</span> fastdfs-<span class="hljs-number">6.06</span>/
./<span class="hljs-keyword">make</span>.<span class="hljs-keyword">sh</span>
./<span class="hljs-keyword">make</span>.<span class="hljs-keyword">sh</span> install</code></pre></div>

<p>安装成功后，执行如下命令，将安装目录内 conf 目录下的配置文件拷贝到 /etc/fdfs 目录下：</p>
<div class="hljs code-wrapper"><pre><code class="hljs awk">cd conf/
cp .<span class="hljs-regexp">/* /</span>etc<span class="hljs-regexp">/fdfs/</span></code></pre></div>

<p><strong>接下来进入 /etc/fdfs/ 目录下进行配置</strong>：</p>
<p>打开 tracker.conf 文件：</p>
<div class="hljs code-wrapper"><pre><code class="hljs vim"><span class="hljs-keyword">vi</span> tracker.<span class="hljs-keyword">conf</span></code></pre></div>

<p>修改如下配置：</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210712152953238.png" srcset="/img/loading.gif" lazyload alt="image-20210712152953238"></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210712153240483.png" srcset="/img/loading.gif" lazyload alt="image-20210712153240483"></p>
<p>接下来执行如下命令<strong>启动 Tracker：</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>bin<span class="hljs-regexp">/fdfs_trackerd /</span>etc<span class="hljs-regexp">/fdfs/</span>tracker.conf start</code></pre></div>

<p>如此之后，我们的 Tracker 就算安装成功了。</p>
<h2 id="Storage-安装"><a href="#Storage-安装" class="headerlink" title="Storage 安装"></a>Storage 安装</h2><p>Storage 安装也需要 libevent 和 libfastcommon，这两个库的安装参考上文</p>
<p>Storage 本身的安装，也和 Tracker 一致，执行命令也都一样，因为我这里将 Tracker 和 Storage 安装在同一台服务器上，所以不用再执行安装命令了（相当于安装 Tracker 时已经安装了 Storage 了）</p>
<p><strong>唯一要做的，就是进入到 /etc/fdfs 目录下，配置 Storage：</strong></p>
<div class="hljs code-wrapper"><pre><code class="hljs vim"><span class="hljs-keyword">vi</span> storage.<span class="hljs-keyword">conf</span></code></pre></div>

<p>这里一共配置三个地方，分别是 <strong>base_path、store_path0 以及 tracker_server</strong> ，<strong>base_path、store_path0</strong>地址相同，<strong>tracker_server</strong> 模板有两个地址，我们这里只有一个，配置完成后，记得注释掉另外一个不用的。</p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210712153654415.png" srcset="/img/loading.gif" lazyload alt="image-20210712153654415"></p>
<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210712153829253.png" srcset="/img/loading.gif" lazyload alt="image-20210712153829253"></p>
<p>配置完成后，执行如下命令启动 Storage：</p>
<div class="hljs code-wrapper"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>bin<span class="hljs-regexp">/fdfs_storaged /</span>etc<span class="hljs-regexp">/fdfs/</span>storage.conf start</code></pre></div>

<p>这两个启动完成后，现在就可以做文件的上传了，但是一般如果是图片文件，<strong>我们还需要提供一个图片的访问功能，目前来说最佳方案当然是 Nginx</strong> ，所以我们这里连同 Nginx 一起配置好，再来做测试。</p>
<h2 id="fastdfs-nginx-module"><a href="#fastdfs-nginx-module" class="headerlink" title="fastdfs-nginx-module"></a>fastdfs-nginx-module</h2><p>图片上传我们一般使用 FastDFS，图片上传成功之后，接下来的图片访问我们一般采用 Nginx，Nginx安装已经完成，现在开始安装下载 fastdfs-nginx-module，下载地址：<a target="_blank" rel="noopener" href="https://github.com/happyfish100/fastdfs-nginx-module/archive/V1.22.tar.gz">https://github.com/happyfish100/fastdfs-nginx-module/archive/V1.22.tar.gz</a></p>
<p>下载完成后，将下载的文件<strong>拷贝到 /usr/local</strong> 目录下。然后进入 /usr/local 目录，分别执行如下命令：</p>
<div class="hljs code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">cd</span> /usr/local
<span class="hljs-attribute">tar</span> -zxvf V<span class="hljs-number">1</span>.<span class="hljs-number">22</span>.tar.gz</code></pre></div>

<p>然后将 <code>/usr/local/fastdfs-nginx-module-1.22/src/mod_fastdfs.conf</code> 文件拷贝到 <code>/etc/fdfs/</code> 目录下，并修改该文件的内容：</p>
<div class="hljs code-wrapper"><pre><code class="hljs awk">vi <span class="hljs-regexp">/etc/</span>fdfs/mod_fastdfs.conf</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210712155658437.png" srcset="/img/loading.gif" lazyload alt="image-20210712155658437"></p>
<p>接下来，回到第一步下载的 nginx 安装文件的解压目录中，执行如下命令，重新配置编译安装：</p>
<div class="hljs code-wrapper"><pre><code class="hljs awk">.<span class="hljs-regexp">/configure --add-module=/u</span>sr<span class="hljs-regexp">/local/</span>fastdfs-nginx-module-<span class="hljs-number">1.22</span>/src
make
make install</code></pre></div>

<p>安装完成后，修改 nginx 的配置文件，如下：</p>
<div class="hljs code-wrapper"><pre><code class="hljs awk">vi <span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/nginx/</span>conf/nginx.conf</code></pre></div>

<p><img src="https://luciferfigurebed.oss-cn-chengdu.aliyuncs.com/uPic/image-20210712163039593.png" srcset="/img/loading.gif" lazyload alt="image-20210712163039593"></p>
<p>在这里配置 nginx 请求转发。</p>
<p>配置完成后，启动 nginx，看到如下日志，表示 nginx 启动成功：</p>
<div class="hljs code-wrapper"><pre><code class="hljs routeros">ngx_http_fastdfs_set <span class="hljs-attribute">pid</span>=9908</code></pre></div>

<p><strong>疑问：fastdfs-nginx-module 有啥用</strong></p>
<p>到头来还是 nginx 本身直接找到了图片文件目录，fastdfs-nginx-module 到底有啥用？</p>
<p>前面我们说过，Storage 由很多组构成，每个组又是一个小的集群，在每一个组里边，数据会进行同步，但是如果数据还没同步，这个时候就有请求发来了，该怎么办？此时fastdfs-nginx-module 会帮助我们直接从源 Storage 上获取文件。</p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E9%85%8D%E7%BD%AE/">配置</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/07/15/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">操作系统</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/07/08/node-sass%E5%AE%89%E8%A3%85%E5%A4%B1%E8%B4%A5%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
                        <span class="hidden-mobile">node-sass安装失败解决方案</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', function () {
        new Valine({
          el: "#valine",
          app_id: "Q8utolFFXQsi71pQY6bCltkI-gzGzoHsz",
          app_key: "x4RAlPOpmFX9HdGyI6MLoCGn",
          placeholder: "说点什么....",
          path: window.location.pathname,
          avatar: "monsterid",
          meta: ["nick","mail","link"],
          pageSize: "12",
          lang: "zh-CN",
          highlight: true,
          recordIP: true,
          serverURLs: "",
        });
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.2/dist/tocbot.min.js" ></script>





  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>












  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
